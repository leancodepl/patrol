---
title: Patrol finders - setup
---

# Patrol finders setup

### Install

First, add the `patrol_finders` package as a `dev_dependency` in your app's
`pubspec.yaml`. You can do this by executing the following command in the app's
directory:

```console
flutter pub add patrol_finders --dev
```

### Use

To use [patrol_finders] in your test files, first import it:

```dart
import 'package:patrol_finders/patrol_finders.dart';
```

Once imported, you can write widget tests:

```dart title="test/patrol_widget_test.dart"
void main() {
  patrolWidgetTest(
    'counter is incremented when plus button is tapped',
    (PatrolTester $) async {
      await $.pumpWidget(const MyApp());

      expect($('0'), findsOneWidget);
      expect($('-1'), findsNothing);

      await $(Icons.remove).tap();

      expect($('0'), findsNothing);
      expect($('-1'), findsOneWidget);
    },
  );
}
```

To run the test, simply execute:

```console
flutter test
```

<Success>
  Our custom finders depend only on Flutter itself. This means you can use them
  no matter if you're writing a mobile, web, desktop, or embedded app!
</Success>

### Using patrol_finders in other test types

If you write golden file tests or just have some wrappers on Flutter's
`testWidgets` method, you can still use Patrol's finders in them.
To do so, initialize `PatrolTester` object and use it instead of
`WidgetTester`.

```dart title="test/widget_test_with_patrol_finders.dart"
void main() {
  testWidgets(
    'counter is incremented when plus button is tapped',
    (WidgetTester tester) async {
      PatrolTester $ = PatrolTester(
        tester: tester,
        config: PatrolTesterConfig(),
      );
      await $.pumpWidget(const MyApp());

      expect($('0'), findsOneWidget);
      expect($('-1'), findsNothing);

      await $(Icons.remove).tap();

      expect($('0'), findsNothing);
      expect($('-1'), findsOneWidget);
    },
  );
}
```
